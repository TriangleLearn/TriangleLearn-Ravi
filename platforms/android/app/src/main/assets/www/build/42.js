<<<<<<< Updated upstream
webpackJsonp([42],{2068:function(n,e,l){"use strict";function View_CoreSettingsSpaceUsagePage_2(n){return t._57(0,[(n()(),t._31(0,0,null,null,2,"p",[["text-end",""]],null,null,null,null,null)),(n()(),t._55(1,null,["",""])),t._49(2,1)],null,function(n,e){n(e,1,0,t._56(e,1,0,n(e,2,0,t._44(e.parent.parent,0),e.parent.context.$implicit.spaceUsage)))})}function View_CoreSettingsSpaceUsagePage_3(n){return t._57(0,[(n()(),t._31(0,0,null,null,3,"p",[["text-end",""]],null,null,null,null,null)),(n()(),t._55(1,null,["",""])),t._48(2,{$a:0}),t._47(131072,R.a,[$.a,t.j])],null,function(n,e){n(e,1,0,t._56(e,1,0,t._44(e,3).transform("core.settings.entriesincache",n(e,2,0,e.parent.context.$implicit.cacheEntries))))})}function View_CoreSettingsSpaceUsagePage_1(n){return t._57(0,[(n()(),t._31(0,0,null,null,30,"ion-item",[["class","item item-block"]],[[2,"core-primary-selected-item",null]],null,null,O.b,O.a)),t._30(1,1097728,null,3,D.a,[M.a,H.a,t.t,t.V,[2,N.a]],null,null),t._52(335544320,3,{contentLabel:0}),t._52(603979776,4,{_buttons:1}),t._52(603979776,5,{_icons:1}),t._30(5,16384,null,0,F.a,[],null,null),(n()(),t._55(-1,2,["\n            "])),(n()(),t._31(7,0,null,2,2,"h2",[["text-wrap",""]],null,null,null,null,null)),(n()(),t._31(8,16777216,null,null,1,"core-format-text",[["clean","true"]],null,null,null,null,null)),t._30(9,540672,null,0,L.a,[t.t,i.a,r.a,T.b,$.a,G.a,A.b,J.b,K.b,q.a,z.b,B.a,[2,Q.a],[2,W.a],[2,X.a],Y.a,Z.b,nn.a,en.a,ln.a,t._11,tn.a],{text:[0,"text"],siteId:[1,"siteId"],clean:[2,"clean"]},null),(n()(),t._55(-1,2,["\n            "])),(n()(),t._31(11,0,null,2,1,"p",[["text-wrap",""]],null,null,null,null,null)),(n()(),t._55(12,null,["",""])),(n()(),t._55(-1,2,["\n            "])),(n()(),t._31(14,0,null,4,7,"div",[["item-end",""]],null,null,null,null,null)),(n()(),t._55(-1,null,["\n                "])),(n()(),t._26(16777216,null,null,1,null,View_CoreSettingsSpaceUsagePage_2)),t._30(17,16384,null,0,an.k,[t._11,t._6],{ngIf:[0,"ngIf"]},null),(n()(),t._55(-1,null,["\n                "])),(n()(),t._26(16777216,null,null,1,null,View_CoreSettingsSpaceUsagePage_3)),t._30(20,16384,null,0,an.k,[t._11,t._6],{ngIf:[0,"ngIf"]},null),(n()(),t._55(-1,null,["\n            "])),(n()(),t._55(-1,2,["\n            "])),(n()(),t._31(23,0,null,4,6,"button",[["clear",""],["color","danger"],["icon-only",""],["ion-button",""],["item-end",""]],[[8,"hidden",0],[1,"aria-label",0]],[[null,"click"]],function(n,e,l){var t=!0;if("click"===e){t=!1!==n.component.deleteSiteStorage(n.context.$implicit)&&t}return t},un.b,un.a)),t._30(24,1097728,[[4,4]],0,rn.a,[[8,""],H.a,t.t,t.V],{color:[0,"color"],clear:[1,"clear"]},null),t._47(131072,R.a,[$.a,t.j]),(n()(),t._55(-1,0,["\n                "])),(n()(),t._31(27,0,null,0,1,"ion-icon",[["name","trash"],["role","img"]],[[2,"hide",null]],null,null,null,null)),t._30(28,147456,null,0,sn.a,[H.a,t.t,t.V],{name:[0,"name"]},null),(n()(),t._55(-1,0,["\n            "])),(n()(),t._55(-1,2,["\n        "]))],function(n,e){n(e,9,0,e.context.$implicit.siteName,e.context.$implicit.id,"true");n(e,17,0,null!=e.context.$implicit.spaceUsage);n(e,20,0,null!=e.context.$implicit.cacheEntries);n(e,24,0,"danger","");n(e,28,0,"trash")},function(n,e){n(e,0,0,e.context.$implicit.id==e.component.currentSiteId);n(e,12,0,e.context.$implicit.fullName);n(e,23,0,!e.context.$implicit.spaceUsage>"0"&&!e.context.$implicit.cacheEntries>"0",t._56(e,23,1,t._44(e,25).transform("core.settings.deletesitefilestitle")));n(e,27,0,t._44(e,28)._hidden)})}function View_CoreSettingsSpaceUsagePage_4(n){return t._57(0,[(n()(),t._31(0,0,null,null,22,"ion-item-divider",[["class","item item-divider"]],null,null,null,O.b,O.a)),t._30(1,1097728,null,3,D.a,[M.a,H.a,t.t,t.V,[2,N.a]],null,null),t._52(335544320,6,{contentLabel:0}),t._52(603979776,7,{_buttons:1}),t._52(603979776,8,{_icons:1}),t._30(5,16384,null,0,on.a,[H.a,t.t,t.V],null,null),(n()(),t._55(-1,2,["\n            "])),(n()(),t._31(7,0,null,2,2,"h2",[],null,null,null,null,null)),(n()(),t._55(8,null,["",""])),t._47(131072,R.a,[$.a,t.j]),(n()(),t._55(-1,2,["\n            "])),(n()(),t._31(11,0,null,4,10,"div",[["item-end",""]],null,null,null,null,null)),(n()(),t._55(-1,null,["\n                "])),(n()(),t._31(13,0,null,null,2,"p",[],null,null,null,null,null)),(n()(),t._55(14,null,["",""])),t._49(15,1),(n()(),t._55(-1,null,["\n                "])),(n()(),t._31(17,0,null,null,3,"p",[],null,null,null,null,null)),(n()(),t._55(18,null,["",""])),t._48(19,{$a:0}),t._47(131072,R.a,[$.a,t.j]),(n()(),t._55(-1,null,["\n            "])),(n()(),t._55(-1,2,["\n        "]))],null,function(n,e){var l=e.component;n(e,8,0,t._56(e,8,0,t._44(e,9).transform("core.settings.total")));n(e,14,0,t._56(e,14,0,n(e,15,0,t._44(e.parent,0),l.totals.spaceUsage)));n(e,18,0,t._56(e,18,0,t._44(e,20).transform("core.settings.entriesincache",n(e,19,0,l.totals.cacheEntries))))})}function View_CoreSettingsSpaceUsagePage_0(n){return t._57(0,[t._47(0,cn.a,[K.b,T.b]),(n()(),t._31(1,0,null,null,17,"ion-header",[],null,null,null,null,null)),t._30(2,16384,null,0,_n.a,[H.a,t.t,t.V,[2,pn.a]],null,null),(n()(),t._55(-1,null,["\n    "])),(n()(),t._31(4,0,null,null,13,"ion-navbar",[["class","toolbar"],["core-back-button",""]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,gn.b,gn.a)),t._30(5,49152,null,0,fn.a,[dn.a,[2,pn.a],[2,Q.a],H.a,t.t,t.V],null,null),t._30(6,212992,null,0,hn.a,[fn.a,G.a,$.a,Z.b],null,null),(n()(),t._55(-1,3,["\n        "])),(n()(),t._31(8,0,null,3,3,"ion-title",[],null,null,null,bn.b,bn.a)),t._30(9,49152,null,0,mn.a,[H.a,t.t,t.V,[2,Sn.a],[2,fn.a]],null,null),(n()(),t._55(10,0,["",""])),t._47(131072,R.a,[$.a,t.j]),(n()(),t._55(-1,3,["\n        "])),(n()(),t._31(13,0,null,2,3,"ion-buttons",[["end",""]],null,null,null,null,null)),t._30(14,16384,null,1,vn.a,[H.a,t.t,t.V,[2,Sn.a],[2,fn.a]],null,null),t._52(603979776,1,{_buttons:1}),(n()(),t._55(-1,null,["\n        "])),(n()(),t._55(-1,3,["\n    "])),(n()(),t._55(-1,null,["\n"])),(n()(),t._55(-1,null,["\n"])),(n()(),t._31(20,0,null,null,11,"core-navbar-buttons",[],null,null,null,Un.b,Un.a)),t._30(21,245760,null,1,yn.a,[t.t,K.b,r.a],null,null),t._52(603979776,2,{buttons:1}),(n()(),t._55(-1,0,["\n    "])),(n()(),t._31(24,0,null,0,6,"button",[["icon-only",""],["ion-button",""]],[[1,"aria-label",0]],[[null,"click"]],function(n,e,l){var t=!0;if("click"===e){t=!1!==n.component.showInfo()&&t}return t},un.b,un.a)),t._30(25,1097728,[[2,4]],0,rn.a,[[8,""],H.a,t.t,t.V],null,null),t._47(131072,R.a,[$.a,t.j]),(n()(),t._55(-1,0,["\n        "])),(n()(),t._31(28,0,null,0,1,"ion-icon",[["name","information-circle"],["role","img"]],[[2,"hide",null]],null,null,null,null)),t._30(29,147456,null,0,sn.a,[H.a,t.t,t.V],{name:[0,"name"]},null),(n()(),t._55(-1,0,["\n    "])),(n()(),t._55(-1,0,["\n"])),(n()(),t._55(-1,null,["\n"])),(n()(),t._31(33,0,null,null,20,"ion-content",[],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,Pn.b,Pn.a)),t._30(34,4374528,null,0,W.a,[H.a,G.a,wn.a,t.t,t.V,dn.a,xn.a,t.M,[2,pn.a],[2,Q.a]],null,null),(n()(),t._55(-1,1,["\n    "])),(n()(),t._31(36,0,null,2,6,"ion-refresher",[],[[2,"refresher-active",null],[4,"top",null]],[[null,"ionRefresh"]],function(n,e,l){var t=!0;if("ionRefresh"===e){t=!1!==n.component.refreshData(l)&&t}return t},null,null)),t._30(37,212992,null,0,Cn.a,[G.a,W.a,t.M,Vn.l],{enabled:[0,"enabled"]},{ionRefresh:"ionRefresh"}),(n()(),t._55(-1,null,["\n        "])),(n()(),t._31(39,0,null,null,2,"ion-refresher-content",[],[[1,"state",0]],null,null,jn.b,jn.a)),t._30(40,114688,null,0,In.a,[Cn.a,H.a],{pullingText:[0,"pullingText"]},null),t._47(131072,R.a,[$.a,t.j]),(n()(),t._55(-1,null,["\n    "])),(n()(),t._55(-1,1,["\n    "])),(n()(),t._31(44,0,null,1,8,"core-loading",[],null,null,null,En.b,En.a)),t._30(45,638976,null,0,kn.a,[$.a,t.t,Z.b,A.b],{hideUntil:[0,"hideUntil"]},null),(n()(),t._55(-1,0,["\n        "])),(n()(),t._26(16777216,null,0,1,null,View_CoreSettingsSpaceUsagePage_1)),t._30(48,802816,null,0,an.j,[t._11,t._6,t.E],{ngForOf:[0,"ngForOf"]},null),(n()(),t._55(-1,0,["\n        "])),(n()(),t._26(16777216,null,0,1,null,View_CoreSettingsSpaceUsagePage_4)),t._30(51,16384,null,0,an.k,[t._11,t._6],{ngIf:[0,"ngIf"]},null),(n()(),t._55(-1,0,["\n    "])),(n()(),t._55(-1,1,["\n"])),(n()(),t._55(-1,null,["\n"]))],function(n,e){var l=e.component;n(e,6,0),n(e,21,0);n(e,29,0,"information-circle");n(e,37,0,l.loaded);n(e,40,0,t._34(1,"",t._56(e,40,0,t._44(e,41).transform("core.pulltorefresh")),""));n(e,45,0,l.loaded);n(e,48,0,l.sites);n(e,51,0,l.totals)},function(n,e){n(e,4,0,t._44(e,5)._hidden,t._44(e,5)._sbPadding);n(e,10,0,t._56(e,10,0,t._44(e,11).transform("core.settings.spaceusage")));n(e,24,0,t._56(e,24,0,t._44(e,26).transform("core.info")));n(e,28,0,t._44(e,29)._hidden);n(e,33,0,t._44(e,34).statusbarPadding,t._44(e,34)._hasRefresher);n(e,36,0,"inactive"!==t._44(e,37).state,t._44(e,37)._top);n(e,39,0,t._44(e,40).r.state)})}Object.defineProperty(e,"__esModule",{value:!0});var t=l(0),a=l(5),u=l(3),i=l(1),r=l(4),s=l(728),o=this&&this.__decorate||function(n,e,l,t){var a,u=arguments.length,i=u<3?e:null===t?t=Object.getOwnPropertyDescriptor(e,l):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(n,e,l,t);else for(var r=n.length-1;r>=0;r--)(a=n[r])&&(i=(u<3?a(i):u>3?a(e,l,i):a(e,l))||i);return u>3&&i&&Object.defineProperty(e,l,i),i},c=this&&this.__metadata||function(n,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,e)},_=this&&this.__awaiter||function(n,e,l,t){return new(l||(l=Promise))(function(a,u){function fulfilled(n){try{step(t.next(n))}catch(n){u(n)}}function rejected(n){try{step(t.throw(n))}catch(n){u(n)}}function step(n){n.done?a(n.value):new l(function(e){e(n.value)}).then(fulfilled,rejected)}step((t=t.apply(n,e||[])).next())})},p=this&&this.__generator||function(n,e){function verb(u){return function(r){return function step(u){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,t&&(a=t[2&u[0]?"return":u[0]?"throw":"next"])&&!(a=a.call(t,u[1])).done)return a;switch(t=0,a&&(u=[0,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,t=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(a=i.trys,!(a=a.length>0&&a[a.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!a||u[1]>a[0]&&u[1]<a[3])){i.label=u[1];break}if(6===u[0]&&i.label<a[1]){i.label=a[1],a=u;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(u);break}a[2]&&i.ops.pop(),i.trys.pop();continue}u=e.call(n,i)}catch(n){u=[6,n],t=0}finally{l=a=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,r])}}var l,t,a,u,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return u={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u},g=function(){function CoreSettingsSpaceUsagePage(n,e,l,t){this.sitesProvider=n,this.settingsHelper=e,this.domUtils=l,this.translate=t,this.loaded=!1,this.sites=[],this.currentSiteId="",this.totals={cacheEntries:0,spaceUsage:0},this.currentSiteId=this.sitesProvider.getCurrentSiteId()}return CoreSettingsSpaceUsagePage.prototype.ionViewDidLoad=function(){var n=this;this.loadSiteData().finally(function(){n.loaded=!0})},CoreSettingsSpaceUsagePage.prototype.loadSiteData=function(){return _(this,void 0,void 0,function(){var n,e,l,t=this;return p(this,function(a){switch(a.label){case 0:return n=0,e=0,l=this,[4,this.sitesProvider.getSortedSites()];case 1:return l.sites=a.sent(),[4,Promise.all(this.sites.map(function(l){return _(t,void 0,void 0,function(){var t;return p(this,function(a){switch(a.label){case 0:return[4,this.settingsHelper.getSiteSpaceUsage(l.id)];case 1:return t=a.sent(),l.cacheEntries=t.cacheEntries,l.spaceUsage=t.spaceUsage,n+=l.spaceUsage?parseInt(l.spaceUsage,10):0,e+=l.cacheEntries?parseInt(l.cacheEntries,10):0,[2]}})})}))];case 2:return a.sent(),this.totals.spaceUsage=n,this.totals.cacheEntries=e,[2]}})})},CoreSettingsSpaceUsagePage.prototype.refreshData=function(n){this.loadSiteData().finally(function(){n.complete()})},CoreSettingsSpaceUsagePage.prototype.deleteSiteStorage=function(n){var e=this;this.settingsHelper.deleteSiteStorage(n.siteName,n.id).then(function(l){e.totals.spaceUsage-=n.spaceUsage-l.spaceUsage,e.totals.spaceUsage-=n.cacheEntries-l.cacheEntries,n.spaceUsage=l.spaceUsage,n.cacheEntries=l.cacheEntries}).catch(function(){})},CoreSettingsSpaceUsagePage.prototype.showInfo=function(){this.domUtils.showAlert(this.translate.instant("core.help"),this.translate.instant("core.settings.spaceusagehelp"))},CoreSettingsSpaceUsagePage=o([Object(t.m)({selector:"page-core-settings-space-usage",templateUrl:"space-usage.html"}),c("design:paramtypes",[i.a,s.a,r.a,u.c])],CoreSettingsSpaceUsagePage)}(),f=l(26),d=l(32),h=l(108),b=this&&this.__decorate||function(n,e,l,t){var a,u=arguments.length,i=u<3?e:null===t?t=Object.getOwnPropertyDescriptor(e,l):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(n,e,l,t);else for(var r=n.length-1;r>=0;r--)(a=n[r])&&(i=(u<3?a(i):u>3?a(e,l,i):a(e,l))||i);return u>3&&i&&Object.defineProperty(e,l,i),i},m=function(){function CoreSettingsSpaceUsagePageModule(){}return CoreSettingsSpaceUsagePageModule=b([Object(t.I)({declarations:[g],imports:[f.a,d.a,h.a,a.l.forChild(g),u.b.forChild()]})],CoreSettingsSpaceUsagePageModule)}(),S=l(1527),v=l(1528),U=l(1529),y=l(1530),P=l(1531),w=l(1532),x=l(1533),C=l(1534),V=l(1535),j=l(1536),I=l(1537),E=l(1538),k=l(1539),R=l(25),$=l(18),O=l(31),D=l(21),M=l(19),H=l(8),N=l(27),F=l(33),L=l(49),T=l(11),G=l(15),A=l(2),J=l(22),K=l(6),q=l(17),z=l(10),B=l(14),Q=l(20),W=l(29),X=l(28),Y=l(43),Z=l(9),nn=l(41),en=l(30),ln=l(36),tn=l(39),an=l(7),un=l(47),rn=l(44),sn=l(48),on=l(103),cn=l(1575),_n=l(373),pn=l(40),gn=l(722),fn=l(214),dn=l(35),hn=l(472),bn=l(723),mn=l(317),Sn=l(250),vn=l(374),Un=l(98),yn=l(90),Pn=l(183),wn=l(34),xn=l(109),Cn=l(161),Vn=l(45),jn=l(215),In=l(175),En=l(56),kn=l(53),Rn=t._29({encapsulation:2,styles:[],data:{}}),$n=t._27("page-core-settings-space-usage",g,function View_CoreSettingsSpaceUsagePage_Host_0(n){return t._57(0,[(n()(),t._31(0,0,null,null,1,"page-core-settings-space-usage",[],null,null,null,View_CoreSettingsSpaceUsagePage_0,Rn)),t._30(1,49152,null,0,g,[i.a,s.a,r.a,$.a],null,null)],null,null)},{},{},[]),On=l(23),Dn=l(369),Mn=l(370),Hn=l(372),Nn=l(371),Fn=l(471),Ln=l(721),Tn=l(272);l.d(e,"CoreSettingsSpaceUsagePageModuleNgFactory",function(){return Gn});var Gn=t._28(m,[],function(n){return t._40([t._41(512,t.o,t._21,[[8,[S.a,v.a,U.a,y.a,P.a,w.a,x.a,C.a,V.a,j.a,I.a,E.a,k.a,$n]],[3,t.o],t.K]),t._41(4608,an.m,an.l,[t.G,[2,an.w]]),t._41(4608,On.x,On.x,[]),t._41(4608,On.d,On.d,[]),t._41(4608,Dn.b,Dn.a,[]),t._41(4608,Mn.a,Mn.b,[]),t._41(4608,Hn.b,Hn.a,[]),t._41(4608,Nn.b,Nn.a,[]),t._41(4608,$.a,$.a,[Fn.a,Dn.b,Mn.a,Hn.b,Nn.b,$.b,$.c]),t._41(512,an.b,an.b,[]),t._41(512,On.v,On.v,[]),t._41(512,On.i,On.i,[]),t._41(512,On.s,On.s,[]),t._41(512,Ln.a,Ln.a,[]),t._41(512,u.b,u.b,[]),t._41(512,d.a,d.a,[]),t._41(512,h.a,h.a,[]),t._41(512,f.a,f.a,[]),t._41(512,Ln.b,Ln.b,[]),t._41(512,m,m,[]),t._41(256,$.c,void 0,[]),t._41(256,$.b,void 0,[]),t._41(256,Tn.a,g,[])])})}});
=======
webpackJsonp([42],{

/***/ 2088:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CoreLoginCredentialsPageModule", function() { return CoreLoginCredentialsPageModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__email_signup__ = __webpack_require__(2242);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__ngx_translate_core__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__components_components_module__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__directives_directives_module__ = __webpack_require__(14);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__core_user_components_components_module__ = __webpack_require__(424);
// (C) Copyright 2015 Moodle Pty Ltd.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//     http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};







var CoreLoginCredentialsPageModule = /** @class */ (function () {
    function CoreLoginCredentialsPageModule() {
    }
    CoreLoginCredentialsPageModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* NgModule */])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_2__email_signup__["a" /* CoreLoginEmailSignupPage */]
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_4__components_components_module__["a" /* CoreComponentsModule */],
                __WEBPACK_IMPORTED_MODULE_5__directives_directives_module__["a" /* CoreDirectivesModule */],
                __WEBPACK_IMPORTED_MODULE_6__core_user_components_components_module__["a" /* CoreUserComponentsModule */],
                __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["l" /* IonicPageModule */].forChild(__WEBPACK_IMPORTED_MODULE_2__email_signup__["a" /* CoreLoginEmailSignupPage */]),
                __WEBPACK_IMPORTED_MODULE_3__ngx_translate_core__["b" /* TranslateModule */].forChild()
            ]
        })
    ], CoreLoginCredentialsPageModule);
    return CoreLoginCredentialsPageModule;
}());

//# sourceMappingURL=email-signup.module.js.map

/***/ }),

/***/ 2242:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CoreLoginEmailSignupPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__ngx_translate_core__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_events__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__providers_sites__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__providers_utils_dom__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__providers_utils_text__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__providers_utils_utils__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__providers_ws__ = __webpack_require__(102);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__providers_helper__ = __webpack_require__(87);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__angular_forms__ = __webpack_require__(25);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__core_user_providers_user_profile_field_delegate__ = __webpack_require__(134);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__configconstants__ = __webpack_require__(58);
// (C) Copyright 2015 Moodle Pty Ltd.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//     http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};













/**
 * Page to signup using email.
 */
var CoreLoginEmailSignupPage = /** @class */ (function () {
    function CoreLoginEmailSignupPage(navCtrl, navParams, fb, wsProvider, sitesProvider, loginHelper, domUtils, translate, utils, textUtils, userProfileFieldDelegate, eventsProvider) {
        this.navCtrl = navCtrl;
        this.fb = fb;
        this.wsProvider = wsProvider;
        this.sitesProvider = sitesProvider;
        this.loginHelper = loginHelper;
        this.domUtils = domUtils;
        this.translate = translate;
        this.utils = utils;
        this.textUtils = textUtils;
        this.userProfileFieldDelegate = userProfileFieldDelegate;
        this.eventsProvider = eventsProvider;
        this.settingsLoaded = false;
        this.captcha = {
            recaptcharesponse: ''
        };
        this.isMinor = false; // Whether the user is minor age.
        this.siteUrl = navParams.get('siteUrl');
        // Create the ageVerificationForm.
        this.ageVerificationForm = this.fb.group({
            age: ['', __WEBPACK_IMPORTED_MODULE_10__angular_forms__["h" /* Validators */].required]
        });
        this.countryControl = this.fb.control('', __WEBPACK_IMPORTED_MODULE_10__angular_forms__["h" /* Validators */].required);
        this.ageVerificationForm.addControl('country', this.countryControl);
        // Create the signupForm with the basic controls. More controls will be added later.
        this.signupForm = this.fb.group({
            username: ['', __WEBPACK_IMPORTED_MODULE_10__angular_forms__["h" /* Validators */].required],
            password: ['', __WEBPACK_IMPORTED_MODULE_10__angular_forms__["h" /* Validators */].required],
            email: ['', __WEBPACK_IMPORTED_MODULE_10__angular_forms__["h" /* Validators */].compose([__WEBPACK_IMPORTED_MODULE_10__angular_forms__["h" /* Validators */].required, __WEBPACK_IMPORTED_MODULE_10__angular_forms__["h" /* Validators */].email])],
            email2: ['', __WEBPACK_IMPORTED_MODULE_10__angular_forms__["h" /* Validators */].compose([__WEBPACK_IMPORTED_MODULE_10__angular_forms__["h" /* Validators */].required, __WEBPACK_IMPORTED_MODULE_10__angular_forms__["h" /* Validators */].email])]
        });
        // Setup validation errors.
        this.usernameErrors = this.loginHelper.getErrorMessages('core.login.usernamerequired');
        this.passwordErrors = this.loginHelper.getErrorMessages('core.login.passwordrequired');
        this.emailErrors = this.loginHelper.getErrorMessages('core.login.missingemail');
        this.email2Errors = this.loginHelper.getErrorMessages('core.login.missingemail', undefined, 'core.login.emailnotmatch');
        this.policyErrors = this.loginHelper.getErrorMessages('core.login.policyagree');
    }
    /**
     * View loaded.
     */
    CoreLoginEmailSignupPage.prototype.ionViewDidLoad = function () {
        var _this = this;
        // Fetch the data.
        this.fetchData().finally(function () {
            _this.settingsLoaded = true;
        });
    };
    /**
     * Complete the FormGroup using the settings received from server.
     */
    CoreLoginEmailSignupPage.prototype.completeFormGroup = function () {
        this.signupForm.addControl('city', this.fb.control(this.settings.defaultcity || ''));
        this.signUpCountryControl = this.fb.control(this.settings.country || '');
        this.signupForm.addControl('country', this.signUpCountryControl);
        // Add the name fields.
        for (var i in this.settings.namefields) {
            this.signupForm.addControl(this.settings.namefields[i], this.fb.control('', __WEBPACK_IMPORTED_MODULE_10__angular_forms__["h" /* Validators */].required));
        }
        if (this.settings.sitepolicy) {
            this.signupForm.addControl('policyagreed', this.fb.control(false, __WEBPACK_IMPORTED_MODULE_10__angular_forms__["h" /* Validators */].requiredTrue));
        }
    };
    /**
     * Fetch the required data from the server-
     */
    CoreLoginEmailSignupPage.prototype.fetchData = function () {
        var _this = this;
        // Get site config.
        return this.sitesProvider.getSitePublicConfig(this.siteUrl).then(function (config) {
            _this.siteConfig = config;
            if (_this.treatSiteConfig(config)) {
                // Check content verification.
                if (typeof _this.ageDigitalConsentVerification == 'undefined') {
                    return _this.wsProvider.callAjax('core_auth_is_age_digital_consent_verification_enabled', {}, { siteUrl: _this.siteUrl }).then(function (result) {
                        _this.ageDigitalConsentVerification = result.status;
                    }).catch(function (e) {
                        // Capture exceptions, fail silently.
                    }).then(function () {
                        return _this.getSignupSettings();
                    });
                }
                else {
                    return _this.getSignupSettings();
                }
            }
        }).then(function () {
            _this.completeFormGroup();
        }).catch(function (err) {
            _this.domUtils.showErrorModal(err);
        });
    };
    /**
     * Get signup settings from server.
     */
    CoreLoginEmailSignupPage.prototype.getSignupSettings = function () {
        var _this = this;
        return this.wsProvider.callAjax('auth_email_get_signup_settings', {}, { siteUrl: this.siteUrl }).then(function (settings) {
            _this.settings = settings;
            _this.categories = _this.loginHelper.formatProfileFieldsForSignup(settings.profilefields);
            if (_this.settings.recaptchapublickey) {
                _this.captcha.recaptcharesponse = ''; // Reset captcha.
            }
            if (!_this.countryControl.value) {
                _this.countryControl.setValue(settings.country || '');
            }
            _this.namefieldsErrors = {};
            if (settings.namefields) {
                settings.namefields.forEach(function (field) {
                    _this.namefieldsErrors[field] = _this.loginHelper.getErrorMessages('core.login.missing' + field);
                });
            }
            return _this.utils.getCountryListSorted().then(function (countries) {
                _this.countries = countries;
            });
        });
    };
    /**
     * Treat the site config, checking if it's valid and extracting the data we're interested in.
     *
     * @param siteConfig Site config to treat.
     * @return True if success.
     */
    CoreLoginEmailSignupPage.prototype.treatSiteConfig = function (siteConfig) {
        if (siteConfig && siteConfig.registerauth == 'email' && !this.loginHelper.isEmailSignupDisabled(siteConfig)) {
            this.siteName = __WEBPACK_IMPORTED_MODULE_12__configconstants__["a" /* CoreConfigConstants */].sitename ? __WEBPACK_IMPORTED_MODULE_12__configconstants__["a" /* CoreConfigConstants */].sitename : siteConfig.sitename;
            this.authInstructions = siteConfig.authinstructions;
            this.ageDigitalConsentVerification = siteConfig.agedigitalconsentverification;
            this.supportName = siteConfig.supportname;
            this.supportEmail = siteConfig.supportemail;
            this.countryControl.setValue(siteConfig.country || '');
            return true;
        }
        else {
            this.domUtils.showErrorModal(this.translate.instant('core.login.signupplugindisabled', { $a: this.translate.instant('core.login.auth_email') }));
            this.navCtrl.pop();
            return false;
        }
    };
    /**
     * Pull to refresh.
     *
     * @param refresher Refresher.
     */
    CoreLoginEmailSignupPage.prototype.refreshSettings = function (refresher) {
        this.fetchData().finally(function () {
            refresher.complete();
        });
    };
    /**
     * Create account.
     *
     * @param e Event.
     */
    CoreLoginEmailSignupPage.prototype.create = function (e) {
        var _this = this;
        e.preventDefault();
        e.stopPropagation();
        if (!this.signupForm.valid || (this.settings.recaptchapublickey && !this.captcha.recaptcharesponse)) {
            // Form not valid. Scroll to the first element with errors.
            if (!this.domUtils.scrollToInputError(this.content)) {
                // Input not found, show an error modal.
                this.domUtils.showErrorModal('core.errorinvalidform', true);
            }
        }
        else {
            var params_1 = {
                username: this.signupForm.value.username.trim().toLowerCase(),
                password: this.signupForm.value.password,
                firstname: this.textUtils.cleanTags(this.signupForm.value.firstname),
                lastname: this.textUtils.cleanTags(this.signupForm.value.lastname),
                email: this.signupForm.value.email.trim(),
                city: this.textUtils.cleanTags(this.signupForm.value.city),
                country: this.signupForm.value.country
            }, modal_1 = this.domUtils.showModalLoading('core.sending', true);
            if (this.siteConfig.launchurl) {
                var service = this.sitesProvider.determineService(this.siteUrl);
                params_1.redirect = this.loginHelper.prepareForSSOLogin(this.siteUrl, service, this.siteConfig.launchurl);
            }
            // Get the recaptcha response (if needed).
            if (this.settings.recaptchapublickey && this.captcha.recaptcharesponse) {
                params_1.recaptcharesponse = this.captcha.recaptcharesponse;
            }
            // Get the data for the custom profile fields.
            this.userProfileFieldDelegate.getDataForFields(this.settings.profilefields, true, 'email', this.signupForm.value).then(function (fieldsData) {
                params_1.customprofilefields = fieldsData;
                return _this.wsProvider.callAjax('auth_email_signup_user', params_1, { siteUrl: _this.siteUrl });
            }).then(function (result) {
                if (result.success) {
                    _this.domUtils.triggerFormSubmittedEvent(_this.signupFormElement, true);
                    // Show alert and ho back.
                    var message = _this.translate.instant('core.login.emailconfirmsent', { $a: params_1.email });
                    _this.domUtils.showAlert(_this.translate.instant('core.success'), message);
                    _this.navCtrl.pop();
                }
                else {
                    if (result.warnings && result.warnings.length) {
                        var error = result.warnings[0].message;
                        if (error == 'incorrect-captcha-sol') {
                            error = _this.translate.instant('core.login.recaptchaincorrect');
                        }
                        _this.domUtils.showErrorModal(error);
                    }
                    else {
                        _this.domUtils.showErrorModal('core.login.usernotaddederror', true);
                    }
                }
            }).catch(function (error) {
                _this.domUtils.showErrorModalDefault(error, 'core.login.usernotaddederror', true);
            }).finally(function () {
                modal_1.dismiss();
            });
        }
    };
    /**
     * Escape mail to avoid special characters to be treated as a RegExp.
     *
     * @param text Initial mail.
     * @return Escaped mail.
     */
    CoreLoginEmailSignupPage.prototype.escapeMail = function (text) {
        return this.textUtils.escapeForRegex(text);
    };
    /**
     * Show authentication instructions.
     */
    CoreLoginEmailSignupPage.prototype.showAuthInstructions = function () {
        this.textUtils.viewText(this.translate.instant('core.login.instructions'), this.authInstructions);
    };
    /**
     * Show contact information on site (we have to display again the age verification form).
     */
    CoreLoginEmailSignupPage.prototype.showContactOnSite = function () {
        this.utils.openInBrowser(this.siteUrl + '/login/verify_age_location.php');
    };
    /**
     * Verify Age.
     *
     * @param e Event.
     */
    CoreLoginEmailSignupPage.prototype.verifyAge = function (e) {
        var _this = this;
        e.preventDefault();
        e.stopPropagation();
        if (!this.ageVerificationForm.valid) {
            this.domUtils.showErrorModal('core.errorinvalidform', true);
            return;
        }
        var modal = this.domUtils.showModalLoading('core.sending', true), params = this.ageVerificationForm.value;
        params.age = parseInt(params.age, 10); // Use just the integer part.
        this.wsProvider.callAjax('core_auth_is_minor', params, { siteUrl: this.siteUrl }).then(function (result) {
            _this.domUtils.triggerFormSubmittedEvent(_this.ageFormElement, true);
            if (!result.status) {
                if (_this.countryControl.value) {
                    _this.signUpCountryControl.setValue(_this.countryControl.value);
                }
                // Not a minor, go ahead!
                _this.ageDigitalConsentVerification = false;
            }
            else {
                // Is a minor!!
                _this.isMinor = true;
            }
        }).catch(function () {
            // Something wrong, redirect to the site.
            _this.domUtils.showErrorModal('There was an error verifying your age, please try again using the browser.');
        }).finally(function () {
            modal.dismiss();
        });
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_9" /* ViewChild */])(__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["f" /* Content */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["f" /* Content */])
    ], CoreLoginEmailSignupPage.prototype, "content", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_9" /* ViewChild */])('ageForm'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["t" /* ElementRef */])
    ], CoreLoginEmailSignupPage.prototype, "ageFormElement", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_9" /* ViewChild */])('signupFormEl'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["t" /* ElementRef */])
    ], CoreLoginEmailSignupPage.prototype, "signupFormElement", void 0);
    CoreLoginEmailSignupPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'page-core-login-email-signup',template:/*ion-inline-start:"/home/ravijain/Documents/GitHub/TriangleLearn-Ravi/src/core/login/pages/email-signup/email-signup.html"*/'<ion-header>\n    <ion-navbar core-back-button>\n        <ion-title>{{ \'core.login.newaccount\' | translate }}</ion-title>\n\n        <ion-buttons end>\n            <button ion-button icon-only *ngIf="authInstructions" (click)="showAuthInstructions()" [attr.aria-label]="\'core.login.instructions\' | translate">\n                <ion-icon name="help-circle"></ion-icon>\n            </button>\n        </ion-buttons>\n    </ion-navbar>\n</ion-header>\n<ion-content>\n    <ion-refresher [enabled]="settingsLoaded && !isMinor" (ionRefresh)="refreshSettings($event)">\n        <ion-refresher-content pullingText="{{ \'core.pulltorefresh\' | translate }}"></ion-refresher-content>\n    </ion-refresher>\n\n    <core-loading [hideUntil]="settingsLoaded" *ngIf="!isMinor">\n\n        <!-- Age verification. -->\n        <form ion-list *ngIf="settingsLoaded && settings && ageDigitalConsentVerification" [formGroup]="ageVerificationForm" (ngSubmit)="verifyAge($event)" #ageForm>\n            <ion-item-divider text-wrap>\n                <p class="item-heading">{{ \'core.agelocationverification\' | translate }}</p>\n            </ion-item-divider>\n\n            <ion-item text-wrap>\n                <ion-label stacked core-mark-required="true">{{ \'core.whatisyourage\' | translate }}</ion-label>\n                <ion-input type="number" name="age" placeholder="0" formControlName="age" autocapitalize="none" autocorrect="off"></ion-input>\n            </ion-item>\n\n            <ion-item text-wrap>\n                <ion-label stacked core-mark-required="true">{{ \'core.wheredoyoulive\' | translate }}</ion-label>\n                <ion-select name="country" formControlName="country" [placeholder]="\'core.login.selectacountry\' | translate">\n                    <ion-option value="">{{ \'core.login.selectacountry\' | translate }}</ion-option>\n                    <ion-option *ngFor="let country of countries" [value]="country.code">{{country.name}}</ion-option>\n                </ion-select>\n            </ion-item>\n\n            <!-- Submit button. -->\n            <ion-item padding>\n                <button ion-button block type="submit" [disabled]="!ageVerificationForm.valid">{{ \'core.proceed\' | translate }}</button>\n            </ion-item>\n\n            <ion-item text-wrap>\n                <p class="item-heading">{{ \'core.whyisthisrequired\' | translate }}</p>\n                <p>{{ \'core.explanationdigitalminor\' | translate }}</p>\n            </ion-item>\n        </form>\n\n        <!-- Signup form. -->\n        <form ion-list *ngIf="settingsLoaded && settings && !ageDigitalConsentVerification" [formGroup]="signupForm" (ngSubmit)="create($event)" #signupFormEl>\n            <ion-item text-wrap text-center>\n                <!-- If no sitename show big siteurl. -->\n                <p *ngIf="!siteName" padding class="item-heading">{{siteUrl}}</p>\n                <!-- If sitename, show big sitename and small siteurl. -->\n                <p *ngIf="siteName" padding class="item-heading"><core-format-text [text]="siteName" [filter]="false"></core-format-text></p>\n                <p *ngIf="siteName">{{siteUrl}}</p>\n            </ion-item>\n\n            <!-- Username and password. -->\n            <ion-item-divider text-wrap>\n                {{ \'core.login.createuserandpass\' | translate }}\n            </ion-item-divider>\n            <ion-item text-wrap>\n                <ion-label stacked core-mark-required="true">{{ \'core.login.username\' | translate }}</ion-label>\n                <ion-input type="text" name="username" placeholder="{{ \'core.login.username\' | translate }}" formControlName="username" autocapitalize="none" autocorrect="off"></ion-input>\n                <core-input-errors item-content [control]="signupForm.controls.username" [errorMessages]="usernameErrors"></core-input-errors>\n            </ion-item>\n            <ion-item text-wrap>\n                <ion-label stacked core-mark-required="true">{{ \'core.login.password\' | translate }}</ion-label>\n                <core-show-password item-content [name]="\'password\'">\n                    <ion-input type="password" name="password" placeholder="{{ \'core.login.password\' | translate }}" formControlName="password" [clearOnEdit]="false"></ion-input>\n                </core-show-password>\n                <p *ngIf="settings.passwordpolicy" item-content class="core-input-footnote">\n                    {{settings.passwordpolicy}}\n                </p>\n                <core-input-errors item-content [control]="signupForm.controls.password" [errorMessages]="passwordErrors"></core-input-errors>\n            </ion-item>\n\n            <!-- More details. -->\n            <ion-item-divider text-wrap>\n                {{ \'core.login.supplyinfo\' | translate }}\n            </ion-item-divider>\n            <ion-item text-wrap>\n                <ion-label stacked core-mark-required="true">{{ \'core.user.email\' | translate }}</ion-label>\n                <ion-input type="email" name="email" placeholder="{{ \'core.user.email\' | translate }}" formControlName="email" autocapitalize="none" autocorrect="off"></ion-input>\n                <core-input-errors item-content [control]="signupForm.controls.email" [errorMessages]="emailErrors"></core-input-errors>\n            </ion-item>\n            <ion-item text-wrap>\n                <ion-label stacked core-mark-required="true">{{ \'core.user.emailagain\' | translate }}</ion-label>\n                <ion-input type="email" name="email2" placeholder="{{ \'core.user.emailagain\' | translate }}" formControlName="email2" autocapitalize="none" autocorrect="off" [pattern]="escapeMail(signupForm.controls.email.value)"></ion-input>\n                <core-input-errors item-content [control]="signupForm.controls.email2" [errorMessages]="email2Errors"></core-input-errors>\n            </ion-item>\n            <ion-item *ngFor="let nameField of settings.namefields" text-wrap>\n                <ion-label stacked core-mark-required="true">{{ \'core.user.\' + nameField | translate }}</ion-label>\n                <ion-input type="text" name="nameField" placeholder="{{ \'core.user.\' + nameField | translate }}" formControlName="{{nameField}}" autocorrect="off"></ion-input>\n                <core-input-errors item-content [control]="signupForm.controls[nameField]" [errorMessages]="namefieldsErrors[nameField]"></core-input-errors>\n            </ion-item>\n            <ion-item text-wrap>\n                <ion-label stacked>{{ \'core.user.city\' | translate }}</ion-label>\n                <ion-input type="text" name="city" placeholder="{{ \'core.user.city\' | translate }}" formControlName="city" autocorrect="off"></ion-input>\n            </ion-item>\n            <ion-item text-wrap>\n                <ion-label stacked id="core-login-signup-country">{{ \'core.user.country\' | translate }}</ion-label>\n                <ion-select name="country" formControlName="country" aria-labelledby="core-login-signup-country" [placeholder]="\'core.login.selectacountry\' | translate">\n                    <ion-option value="">{{ \'core.login.selectacountry\' | translate }}</ion-option>\n                    <ion-option *ngFor="let country of countries" [value]="country.code">{{country.name}}</ion-option>\n                </ion-select>\n            </ion-item>\n\n            <!-- Other categories. -->\n            <ng-container *ngFor="let category of categories">\n                <ion-item-divider text-wrap>{{ category.name }}</ion-item-divider>\n                <core-user-profile-field *ngFor="let field of category.fields" [field]="field" edit="true" signup="true" registerAuth="email" [form]="signupForm"></core-user-profile-field>\n            </ng-container>\n\n            <!-- ReCAPTCHA -->\n            <ng-container *ngIf="settings.recaptchapublickey">\n                <ion-item-divider text-wrap><span [core-mark-required]="true">{{ \'core.login.security_question\' | translate }}</span></ion-item-divider>\n                <ion-item text-wrap>\n                    <core-recaptcha [publicKey]="settings.recaptchapublickey" [model]="captcha" [siteUrl]="siteUrl"></core-recaptcha>\n                </ion-item>\n            </ng-container>\n\n            <!-- Site policy (if any). -->\n            <ng-container *ngIf="settings.sitepolicy">\n                <ion-item-divider text-wrap>{{ \'core.login.policyagreement\' | translate }}</ion-item-divider>\n                <ion-item text-wrap>\n                    <p><a [href]="settings.sitepolicy" core-link capture="false">{{ \'core.login.policyagreementclick\' | translate }}</a></p>\n                </ion-item>\n                <ion-item text-wrap>\n                    <ion-label>\n                        <span [core-mark-required]="true">{{ \'core.login.policyaccept\' | translate }}</span>\n                        <core-input-errors [control]="signupForm.controls.policyagreed" [errorMessages]="policyErrors"></core-input-errors>\n                    </ion-label>\n                    <ion-checkbox item-end name="policyagreed" formControlName="policyagreed"></ion-checkbox>\n                </ion-item>\n            </ng-container>\n\n            <!-- Submit button. -->\n            <ion-item padding>\n                <button ion-button block color="primary" type="submit">{{ \'core.login.createaccount\' | translate }}</button>\n            </ion-item>\n        </form>\n    </core-loading>\n\n    <ion-list *ngIf="isMinor">\n        <ion-item-divider text-wrap>\n            <p *ngIf="siteName" class="item-heading padding"><core-format-text [text]="siteName" [filter]="false"></core-format-text></p>\n        </ion-item-divider>\n        <ion-item text-wrap>\n            <p class="item-heading">{{ \'core.considereddigitalminor\' | translate }}</p>\n            <p>{{ \'core.digitalminor_desc\' | translate }}</p>\n            <p *ngIf="supportName">{{ supportName }}</p>\n            <p *ngIf="supportEmail">{{ supportEmail }}</p>\n            <div padding *ngIf="!supportName && !supportEmail">\n                <button ion-button block (click)="showContactOnSite()">\n                    {{ \'core.openinbrowser\' | translate }}\n                </button>\n            </div>\n        </ion-item>\n    </ion-list>\n</ion-content>\n'/*ion-inline-end:"/home/ravijain/Documents/GitHub/TriangleLearn-Ravi/src/core/login/pages/email-signup/email-signup.html"*/,
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["s" /* NavController */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["t" /* NavParams */],
            __WEBPACK_IMPORTED_MODULE_10__angular_forms__["a" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_8__providers_ws__["a" /* CoreWSProvider */],
            __WEBPACK_IMPORTED_MODULE_4__providers_sites__["a" /* CoreSitesProvider */],
            __WEBPACK_IMPORTED_MODULE_9__providers_helper__["a" /* CoreLoginHelperProvider */],
            __WEBPACK_IMPORTED_MODULE_5__providers_utils_dom__["a" /* CoreDomUtilsProvider */],
            __WEBPACK_IMPORTED_MODULE_2__ngx_translate_core__["c" /* TranslateService */],
            __WEBPACK_IMPORTED_MODULE_7__providers_utils_utils__["b" /* CoreUtilsProvider */],
            __WEBPACK_IMPORTED_MODULE_6__providers_utils_text__["b" /* CoreTextUtilsProvider */],
            __WEBPACK_IMPORTED_MODULE_11__core_user_providers_user_profile_field_delegate__["a" /* CoreUserProfileFieldDelegate */],
            __WEBPACK_IMPORTED_MODULE_3__providers_events__["b" /* CoreEventsProvider */]])
    ], CoreLoginEmailSignupPage);
    return CoreLoginEmailSignupPage;
}());

//# sourceMappingURL=email-signup.js.map

/***/ })

});
//# sourceMappingURL=42.js.map
>>>>>>> Stashed changes
